"use strict";!function(n){var o={baseUrl:"http://localhost:3008",name:"",init:function(){o.doLogin(),o.getProtected(),o.logoutHandler(),o.signUpHandler()},doLogin:function(){n(document).on("click","#t-login",function(){n("#t-modal").addClass("active")}),n(document).on("submit","#login-submit",function(n){n.preventDefault(),o.loginHandler().then(o.loadEndpoint)})},getProtected:function(){n(document).on("submit","#get-protected",function(e){e.preventDefault();var t="Bearer "+localStorage.getItem("jwToken");return new Promise(function(e,a){n.ajax({headers:{accept:"application/json; odata=verbose",Authorization:t},type:"GET",url:o.baseUrl+"/protected",success:function(n){console.log(n),e()},error:function(n){console.log(n),a()}})})})},loadEndpoint:function(){var e="Bearer "+localStorage.getItem("jwToken");return new Promise(function(t,a){n.ajax({headers:{accept:"application/json; odata=verbose",Authorization:e},type:"GET",url:o.baseUrl+"/protected",success:function(n){o.loadPage("protected"),t()},error:function(n){console.log(n),a()}})})},loginHandler:function(){var e={username:n("#login-username").val(),password:n("#login-password").val()};return new Promise(function(t,a){n.ajax({contentType:"application/json; charset=utf-8",data:JSON.stringify(e),headers:{accept:"application/json; odata=verbose"},type:"POST",url:"http://localhost:3008/auth/login",success:function(e){o.name=e.profile.firstName+" "+e.profile.lastName,n("#login-username").val(""),n("#login-password").val(""),localStorage.setItem("jwToken",e.profile.token),console.log("Welcome "+o.name+"! You are now logged in."),t()},error:function(n){console.log(n),a()}})})},logoutHandler:function(){n(document).on("submit","#do-logout",function(n){n.preventDefault(),localStorage.removeItem("jwToken"),console.log("You are now logged out."),o.name="",location.reload(!0)})},signUpHandler:function(){n(document).on("submit","#sign-up-submit",function(e){e.preventDefault();var t={firstName:n("#firstName").val(),lastName:n("#lastName").val(),password:n("#password").val(),username:n("#username").val()};return new Promise(function(e,a){n.ajax({contentType:"application/json; charset=utf-8",data:JSON.stringify(t),headers:{accept:"application/json; odata=verbose"},type:"POST",url:o.baseUrl+"/users/register",success:function(o){console.log("Thank you "+t.firstName+" "+t.lastName+"! Your account has been created."),n("#firstName").val(""),n("#lastName").val(""),n("#username").val(""),n("#password").val(""),e()},error:function(n){console.log(n),a()}})})})},loadPage:function(o){var e=n("#root"),t="src/templates/"+o+".html";n.get(t,function(o){n(e).html(o)})}};n(window).on("load",function(){o.init(),o.loadPage("landing")}),n(window).on("resize",function(){o.sizer()})}(window.jQuery),function(n){var o={box:function(){n("body").append('\n        <div class="viewport">\n          <span id="t-width"></span> x <span id="t-height"></span>\n        </div>\n      ')},calculateDimensions:function(){var o=window.innerWidth,e=window.innerHeight;n("#t-width").html(o),n("#t-height").html(e)},init:function(){o.box(),o.sizer()},sizer:function(){o.calculateDimensions(),o.toggleBox()},toggleBox:function(){n(".viewport").click(function(){n(this).toggleClass("inactive")})}};n(window).on("load",function(){o.init()}),n(window).on("resize",function(){o.sizer()})}(window.jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJzaXplci5qcyJdLCJuYW1lcyI6WyIkIiwiYXBwIiwiYmFzZVVybCIsIm5hbWUiLCJpbml0IiwiZG9Mb2dpbiIsImdldFByb3RlY3RlZCIsImxvZ291dEhhbmRsZXIiLCJzaWduVXBIYW5kbGVyIiwiZG9jdW1lbnQiLCJvbiIsImFkZENsYXNzIiwiZSIsInByZXZlbnREZWZhdWx0IiwibG9naW5IYW5kbGVyIiwidGhlbiIsImxvYWRFbmRwb2ludCIsIl90b2tlbiIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJQcm9taXNlIiwicmVzIiwicmVqIiwiYWpheCIsImhlYWRlcnMiLCJhY2NlcHQiLCJBdXRob3JpemF0aW9uIiwidHlwZSIsInVybCIsInN1Y2Nlc3MiLCJpdGVtIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwiX2Vycm9yIiwibG9hZFBhZ2UiLCJfZXJyb3IyIiwiX2JvZHkiLCJ1c2VybmFtZSIsInZhbCIsInBhc3N3b3JkIiwiY29udGVudFR5cGUiLCJkYXRhIiwiSlNPTiIsInN0cmluZ2lmeSIsInByb2ZpbGUiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInNldEl0ZW0iLCJ0b2tlbiIsIl9lcnJvcjMiLCJyZW1vdmVJdGVtIiwibG9jYXRpb24iLCJyZWxvYWQiLCJib2R5IiwiX2Vycm9yNCIsInBhZ2UiLCJ0YXJnZXQiLCJfcGFnZSIsImdldCIsImh0bWwiLCJ3aW5kb3ciLCJzaXplciIsImpRdWVyeSIsImJveCIsImFwcGVuZCIsImNhbGN1bGF0ZURpbWVuc2lvbnMiLCJ3IiwiaW5uZXJXaWR0aCIsImgiLCJpbm5lckhlaWdodCIsInRvZ2dsZUJveCIsImNsaWNrIiwidGhpcyIsInRvZ2dsZUNsYXNzIl0sIm1hcHBpbmdzIjoiQUFBQSxjQUVBLFNBQUFBLEdBRUEsSUFBQUMsR0FDQUMsUUFBQSx3QkFDQUMsS0FBQSxHQUNBQyxLQUFBLFdBQ0FILEVBQUFJLFVBQ0FKLEVBQUFLLGVBQ0FMLEVBQUFNLGdCQUNBTixFQUFBTyxp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QXVCLEdBQ0FqQyxZQU9BYSxTQUFBLFNBQUFxQixHQUNBLElBQUFDLEVBQUF6RCxFQUFBLFNBQ0EwRCxFQUFBLGlCQUFBRixFQUFBLFFBRUF4RCxFQUFBMkQsSUFBQUQsRUFBQSxTQUFBaEIsR0FDQTFDLEVBQUF5RCxHQUFBRyxLQUFBbEIsT0FLQTFDLEVBQUE2RCxRQUFBbkQsR0FBQSxPQUFBLFdBQ0FULEVBQUFHLE9BQ0FILEVBQUFrQyxTQUFBLGFBR0FuQyxFQUFBNkQsUUFBQW5ELEdBQUEsU0FBQSxXQUNBVCxFQUFBNkQsVUFoS0EsQ0FrS0FELE9BQUFFLFFDbEtBLFNBQUEvRCxHQUVBLElBQUFDLEdBQ0ErRCxJQUFBLFdBQ0FoRSxFQUFBLFFBQUFpRSxPQUFBLGlJQUVBQyxvQkFBQSxXQUNBLElBQUFDLEVBQUFOLE9BQUFPLFdBQ0FDLEVBQUFSLE9BQUFTLFlBQ0F0RSxFQUFBLFlBQUE0RCxLQUFBTyxHQUNBbkUsRUFBQSxhQUFBNEQsS0FBQVMsSUFFQWpFLEtBQUEsV0FDQUgsRUFBQStELE1BQ0EvRCxFQUFBNkQsU0FFQUEsTUFBQSxXQUNBN0QsRUFBQWlFLHNCQUNBakUsRUFBQXNFLGFBRUFBLFVBQUEsV0FDQXZFLEVBQUEsYUFBQXdFLE1BQUEsV0FDQXhFLEVBQUF5RSxNQUFBQyxZQUFBLGdCQUtBMUUsRUFBQTZELFFBQUFuRCxHQUFBLE9BQUEsV0FDQVQsRUFBQUcsU0FHQUosRUFBQTZELFFBQUFuRCxHQUFBLFNBQUEsV0FDQVQsRUFBQTZELFVBaENBLENBa0NBRCxPQUFBRSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCQpIHtcblxuICB2YXIgYXBwID0ge1xuICAgIGJhc2VVcmw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDgnLFxuICAgIG5hbWU6ICcnLFxuICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICBhcHAuZG9Mb2dpbigpO1xuICAgICAgYXBwLmdldFByb3RlY3RlZCgpO1xuICAgICAgYXBwLmxvZ291dEhhbmRsZXIoKTtcbiAgICAgIGFwcC5zaWduVXBIYW5kbGVyKCk7XG4gICAgfSxcbiAgICBkb0xvZ2luOiBmdW5jdGlvbiBkb0xvZ2luKCkge1xuICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJyN0LWxvZ2luJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAkKFwiI3QtbW9kYWxcIikuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICB9KTtcblxuICAgICAgJChkb2N1bWVudCkub24oJ3N1Ym1pdCcsICcjbG9naW4tc3VibWl0JywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBhcHAubG9naW5IYW5kbGVyKCkudGhlbihhcHAubG9hZEVuZHBvaW50KTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0UHJvdGVjdGVkOiBmdW5jdGlvbiBnZXRQcm90ZWN0ZWQoKSB7XG4gICAgICAkKGRvY3VtZW50KS5vbignc3VibWl0JywgJyNnZXQtcHJvdGVjdGVkJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgX3Rva2VuID0gJ0JlYXJlciAnICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3VG9rZW4nKTtcbiAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzLCByZWopIHtcbiAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgLy8gYmVmb3JlU2VuZDogKHJlcSkgPT4geyByZXEuc2V0UmVxdWVzdEhlYWRlcihcIkF1dGhvcml6YXRpb25cIiwgYXBwLnRva2VuKSB9LFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICBcImFjY2VwdFwiOiBcImFwcGxpY2F0aW9uL2pzb247IG9kYXRhPXZlcmJvc2VcIixcbiAgICAgICAgICAgICAgXCJBdXRob3JpemF0aW9uXCI6IF90b2tlblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgICAgdXJsOiBhcHAuYmFzZVVybCArICcvcHJvdGVjdGVkJyxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoaXRlbSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpdGVtKTtcbiAgICAgICAgICAgICAgcmVzKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKF9lcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfZXJyb3IpO1xuICAgICAgICAgICAgICByZWooKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBsb2FkRW5kcG9pbnQ6IGZ1bmN0aW9uIGxvYWRFbmRwb2ludCgpIHtcbiAgICAgIHZhciBfdG9rZW4gPSAnQmVhcmVyICcgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnandUb2tlbicpO1xuICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzLCByZWopIHtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAvLyBiZWZvcmVTZW5kOiAocmVxKSA9PiB7IHJlcS5zZXRSZXF1ZXN0SGVhZGVyKFwiQXV0aG9yaXphdGlvblwiLCBhcHAudG9rZW4pIH0sXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgXCJhY2NlcHRcIjogXCJhcHBsaWNhdGlvbi9qc29uOyBvZGF0YT12ZXJib3NlXCIsXG4gICAgICAgICAgICBcIkF1dGhvcml6YXRpb25cIjogX3Rva2VuXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICB1cmw6IGFwcC5iYXNlVXJsICsgJy9wcm90ZWN0ZWQnLFxuICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoaXRlbSkge1xuICAgICAgICAgICAgYXBwLmxvYWRQYWdlKCdwcm90ZWN0ZWQnKTtcbiAgICAgICAgICAgIHJlcygpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKF9lcnJvcjIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKF9lcnJvcjIpO1xuICAgICAgICAgICAgcmVqKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfSxcbiAgICBsb2dpbkhhbmRsZXI6IGZ1bmN0aW9uIGxvZ2luSGFuZGxlcigpIHtcbiAgICAgIHZhciBfYm9keSA9IHtcbiAgICAgICAgdXNlcm5hbWU6ICQoJyNsb2dpbi11c2VybmFtZScpLnZhbCgpLFxuICAgICAgICBwYXNzd29yZDogJCgnI2xvZ2luLXBhc3N3b3JkJykudmFsKClcbiAgICAgIH07XG4gICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXMsIHJlaikge1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIixcbiAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShfYm9keSksXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgXCJhY2NlcHRcIjogXCJhcHBsaWNhdGlvbi9qc29uOyBvZGF0YT12ZXJib3NlXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDgvYXV0aC9sb2dpbicsXG4gICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7XG4gICAgICAgICAgICBhcHAubmFtZSA9IGRhdGEucHJvZmlsZS5maXJzdE5hbWUgKyAnICcgKyBkYXRhLnByb2ZpbGUubGFzdE5hbWU7XG4gICAgICAgICAgICAkKCcjbG9naW4tdXNlcm5hbWUnKS52YWwoJycpO1xuICAgICAgICAgICAgJCgnI2xvZ2luLXBhc3N3b3JkJykudmFsKCcnKTtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdqd1Rva2VuJywgZGF0YS5wcm9maWxlLnRva2VuKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdXZWxjb21lICcgKyBhcHAubmFtZSArICchIFlvdSBhcmUgbm93IGxvZ2dlZCBpbi4nKTtcbiAgICAgICAgICAgIHJlcygpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKF9lcnJvcjMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKF9lcnJvcjMpO1xuICAgICAgICAgICAgcmVqKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfSxcbiAgICBsb2dvdXRIYW5kbGVyOiBmdW5jdGlvbiBsb2dvdXRIYW5kbGVyKCkge1xuICAgICAgJChkb2N1bWVudCkub24oJ3N1Ym1pdCcsICcjZG8tbG9nb3V0JywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnandUb2tlbicpO1xuICAgICAgICBjb25zb2xlLmxvZygnWW91IGFyZSBub3cgbG9nZ2VkIG91dC4nKTtcbiAgICAgICAgYXBwLm5hbWUgPSAnJztcbiAgICAgICAgbG9jYXRpb24ucmVsb2FkKHRydWUpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBzaWduVXBIYW5kbGVyOiBmdW5jdGlvbiBzaWduVXBIYW5kbGVyKCkge1xuICAgICAgJChkb2N1bWVudCkub24oJ3N1Ym1pdCcsICcjc2lnbi11cC1zdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciBib2R5ID0ge1xuICAgICAgICAgIGZpcnN0TmFtZTogJCgnI2ZpcnN0TmFtZScpLnZhbCgpLFxuICAgICAgICAgIGxhc3ROYW1lOiAkKCcjbGFzdE5hbWUnKS52YWwoKSxcbiAgICAgICAgICBwYXNzd29yZDogJCgnI3Bhc3N3b3JkJykudmFsKCksXG4gICAgICAgICAgdXNlcm5hbWU6ICQoJyN1c2VybmFtZScpLnZhbCgpXG4gICAgICAgIH07XG4gICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlcywgcmVqKSB7XG4gICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIixcbiAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICBcImFjY2VwdFwiOiBcImFwcGxpY2F0aW9uL2pzb247IG9kYXRhPXZlcmJvc2VcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIHVybDogYXBwLmJhc2VVcmwgKyAnL3VzZXJzL3JlZ2lzdGVyJyxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoZGF0YSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVGhhbmsgeW91ICcgKyBib2R5LmZpcnN0TmFtZSArICcgJyArIGJvZHkubGFzdE5hbWUgKyAnISBZb3VyIGFjY291bnQgaGFzIGJlZW4gY3JlYXRlZC4nKTtcbiAgICAgICAgICAgICAgJCgnI2ZpcnN0TmFtZScpLnZhbCgnJyk7XG4gICAgICAgICAgICAgICQoJyNsYXN0TmFtZScpLnZhbCgnJyk7XG4gICAgICAgICAgICAgICQoJyN1c2VybmFtZScpLnZhbCgnJyk7XG4gICAgICAgICAgICAgICQoJyNwYXNzd29yZCcpLnZhbCgnJyk7XG4gICAgICAgICAgICAgIHJlcygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcihfZXJyb3I0KSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9lcnJvcjQpO1xuICAgICAgICAgICAgICByZWooKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBsb2FkUGFnZTogZnVuY3Rpb24gbG9hZFBhZ2UocGFnZSkge1xuICAgICAgdmFyIHRhcmdldCA9ICQoJyNyb290Jyk7XG4gICAgICB2YXIgX3BhZ2UgPSAnc3JjL3RlbXBsYXRlcy8nICsgcGFnZSArICcuaHRtbCc7XG4gICAgICAvLyAkKHRhcmdldCkuaHRtbChfcGFnZSk7XG4gICAgICAkLmdldChfcGFnZSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgJCh0YXJnZXQpLmh0bWwoZGF0YSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgIGFwcC5pbml0KCk7XG4gICAgYXBwLmxvYWRQYWdlKFwibGFuZGluZ1wiKTtcbiAgfSk7XG5cbiAgJCh3aW5kb3cpLm9uKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XG4gICAgYXBwLnNpemVyKCk7IC8vYzAwN1xuICB9KTtcbn0pKHdpbmRvdy5qUXVlcnkpOyIsIlwidXNlIHN0cmljdFwiO1xuXG4oZnVuY3Rpb24gKCQpIHtcblxuICB2YXIgYXBwID0ge1xuICAgIGJveDogZnVuY3Rpb24gYm94KCkge1xuICAgICAgJCgnYm9keScpLmFwcGVuZChcIlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwidmlld3BvcnRcXFwiPlxcbiAgICAgICAgICA8c3BhbiBpZD1cXFwidC13aWR0aFxcXCI+PC9zcGFuPiB4IDxzcGFuIGlkPVxcXCJ0LWhlaWdodFxcXCI+PC9zcGFuPlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgXCIpO1xuICAgIH0sXG4gICAgY2FsY3VsYXRlRGltZW5zaW9uczogZnVuY3Rpb24gY2FsY3VsYXRlRGltZW5zaW9ucygpIHtcbiAgICAgIHZhciB3ID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICB2YXIgaCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICQoXCIjdC13aWR0aFwiKS5odG1sKHcpO1xuICAgICAgJChcIiN0LWhlaWdodFwiKS5odG1sKGgpO1xuICAgIH0sXG4gICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgIGFwcC5ib3goKTtcbiAgICAgIGFwcC5zaXplcigpO1xuICAgIH0sXG4gICAgc2l6ZXI6IGZ1bmN0aW9uIHNpemVyKCkge1xuICAgICAgYXBwLmNhbGN1bGF0ZURpbWVuc2lvbnMoKTtcbiAgICAgIGFwcC50b2dnbGVCb3goKTtcbiAgICB9LFxuICAgIHRvZ2dsZUJveDogZnVuY3Rpb24gdG9nZ2xlQm94KCkge1xuICAgICAgJCgnLnZpZXdwb3J0JykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdpbmFjdGl2ZScpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gICQod2luZG93KS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICBhcHAuaW5pdCgpOyAvL2MwMjhcbiAgfSk7XG5cbiAgJCh3aW5kb3cpLm9uKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XG4gICAgYXBwLnNpemVyKCk7IC8vYzAyOFxuICB9KTtcbn0pKHdpbmRvdy5qUXVlcnkpOyJdfQ==
