"use strict";!function(e){var o={baseUrl:"http://localhost:3008",init:function(){},habitDashboard:function(){e(document).on("click","#t-login",function(){e("#t-burger").prop("checked",!1)})},getUserPage:function(){e(document).on("submit","#get-protected",function(a){a.preventDefault();var n="Bearer "+localStorage.getItem("jwToken");return new Promise(function(a,t){e.ajax({headers:{accept:"application/json; odata=verbose",Authorization:n},type:"GET",url:o.baseUrl+"/protected",success:function(e){console.log(e),a()},error:function(e){console.log(e),t()}})})})},loadPage:function(o){var a=e("#root"),n="src/views/"+o+".html";e.get(n,function(o){e(a).html(o)})},loadProfile:function(a){var n="Bearer "+localStorage.getItem("jwToken");e.ajax({headers:{accept:"application/json; odata=verbose",Authorization:n},type:"GET",url:o.baseUrl+"/users/"+a,success:function(a){window.location.href=o.baseUrl+"/users/profile",e("#welcome").html("<span class='red'>Hello <b>Again</b></span>")},error:function(e){console.log(e)}})},loginExec:function(){e(document).on("submit","#login-submit",function(e){e.preventDefault(),o.loginHandler()})},loginHandler:function(){var a={username:e("#login-username").val(),password:e("#login-password").val()};e.ajax({contentType:"application/json; charset=utf-8",data:JSON.stringify(a),headers:{accept:"application/json; odata=verbose"},type:"POST",url:"http://localhost:3008/auth/login",success:function(n){o.profile.name=n.profile.firstName+" "+n.profile.lastName,e("#login-username").val(""),e("#login-password").val(""),localStorage.setItem("jwToken",n.profile.token),o.loadProfile(a.username)},error:function(o){console.log(o),e("#t-modal-login").removeClass("active"),e("#t-modal-message").empty(),e("#t-modal-message").addClass("active"),e("#t-modal-message").append('\n                <div id="t-modal-login-fail">Your login attempt has failed, please try again.</div>\n                <a id="t-modal-login-button">Login</a>\n                ')}})},loginModal:function(){e(document).on("click","#t-login",function(o){o.preventDefault(),e(".y-modal.signup").hasClass("active")?(e(".y-modal.signup").removeClass("active"),e(".y-modal.login").addClass("active")):e(".y-modal.login").toggleClass("active"),e("#t-burger").prop("checked",!1)})},logoutHandler:function(){e(document).on("click","#t-logout",function(e){e.preventDefault(),localStorage.removeItem("jwToken"),console.log("You are now logged out."),o.profile.name="",location.reload(!0)})},profile:{name:""},signUpHandler:function(){e(document).on("click","#t-sign-up",function(){e(".y-modal.login").hasClass("active")?(e(".y-modal.login").removeClass("active"),e(".y-modal.signup").addClass("active")):e(".y-modal.signup").toggleClass("active"),e("#t-burger").prop("checked",!1)}),e(document).on("submit","#sign-up-submit",function(a){a.preventDefault();var n={firstName:e("#firstName").val(),lastName:e("#lastName").val(),password:e("#password").val(),username:e("#username").val()};return new Promise(function(a,t){e.ajax({contentType:"application/json; charset=utf-8",data:JSON.stringify(n),headers:{accept:"application/json; odata=verbose"},type:"POST",url:o.baseUrl+"/users/register",success:function(o){console.log("Thank you "+n.firstName+" "+n.lastName+"! Your account has been created."),e("#firstName").val(""),e("#lastName").val(""),e("#username").val(""),e("#password").val(""),e("#t-modal-sign-up").removeClass("active"),e("#t-modal-message").empty(),e("#t-modal-message").addClass("active"),e("#t-modal-message").append('\n                  <div id="t-modal-sign-up-success">Thank you '+n.firstName+" "+n.lastName+'! Your account has been created.</div>\n                  <a id="t-modal-login-button">Login</a>\n                  '),a()},error:function(o){console.log(o),e("#t-modal-sign-up").removeClass("active"),e("#t-modal-message").empty(),e("#t-modal-message").addClass("active"),e("#t-modal-message").append('\n                  <div id="t-modal-sign-up-fail">'+n.firstName+" "+n.lastName+', Either your password needs to be ten characters long, or your username has already been selected.</div>\n                  <a id="t-modal-sign-up-button">Sign-up</a>\n                  '),t()}})})})}};e(window).on("load",function(){o.init()})}(window.jQuery),function(e){var o={box:function(){e("body").append('\n        <div class="viewport">\n          <span id="t-width"></span> x <span id="t-height"></span>\n        </div>\n      ')},calculateDimensions:function(){var o=window.innerWidth,a=window.innerHeight;e("#t-width").html(o),e("#t-height").html(a)},init:function(){o.box(),o.sizer()},sizer:function(){o.calculateDimensions(),o.toggleBox()},toggleBox:function(){e(".viewport").click(function(){e(this).toggleClass("inactive")})}};e(window).on("load",function(){o.init()}),e(window).on("resize",function(){o.sizer()})}(window.jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJzaXplci5qcyJdLCJuYW1lcyI6WyIkIiwiYXBwIiwiYmFzZVVybCIsImluaXQiLCJoYWJpdERhc2hib2FyZCIsImRvY3VtZW50Iiwib24iLCJwcm9wIiwiZ2V0VXNlclBhZ2UiLCJlIiwicHJldmVudERlZmF1bHQiLCJfdG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiUHJvbWlzZSIsInJlcyIsInJlaiIsImFqYXgiLCJoZWFkZXJzIiwiYWNjZXB0IiwiQXV0aG9yaXphdGlvbiIsInR5cGUiLCJ1cmwiLCJzdWNjZXNzIiwiaXRlbSIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsIl9lcnJvciIsImxvYWRQYWdlIiwicGFnZSIsInRhcmdldCIsIl9wYWdlIiwiZ2V0IiwiZGF0YSIsImh0bWwiLCJsb2FkUHJvZmlsZSIsInVzZXJuYW1lIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiX2Vycm9yMiIsImxvZ2luRXhlYyIsImxvZ2luSGFuZGxlciIsIl9ib2R5IiwidmFsIiwicGFzc3dvcmQiLCJjb250ZW50VHlwZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwcm9maWxlIiwibmFtZSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwic2V0SXRlbSIsInRva2VuIiwiX2Vycm9yMyIsInJlbW92ZUNsYXNzIiwiZW1wdHkiLCJhZGRDbGFzcyIsImFwcGVuZCIsImxvZ2luTW9kYWwiLCJoYXNDbGFzcyIsInRvZ2dsZUNsYXNzIiwibG9nb3V0SGFuZGxlciIsInJlbW92ZUl0ZW0iLCJyZWxvYWQiLCJzaWduVXBIYW5kbGVyIiwiYm9keSIsIl9lcnJvcjQiLCJqUXVlcnkiLCJib3giLCJjYWxjdWxhdGVEaW1lbnNpb25zIiwidyIsImlubmVyV2lkdGgiLCJoIiwiaW5uZXJIZWlnaHQiLCJzaXplciIsInRvZ2dsZUJveCIsImNsaWNrIiwidGhpcyJdLCJtYXBwaW5ncyI6IkFBQUEsY0FFQSxTQUFBQSxHQUVBLElBQUFDLEdBQ0FDLFFBQUEsd0JB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LE9BQUFnQyxRQy9NQSxTQUFBdEUsR0FFQSxJQUFBQyxHQUNBc0UsSUFBQSxXQUNBdkUsRUFBQSxRQUFBNEQsT0FBQSxpSUFFQVksb0JBQUEsV0FDQSxJQUFBQyxFQUFBbkMsT0FBQW9DLFdBQ0FDLEVBQUFyQyxPQUFBc0MsWUFDQTVFLEVBQUEsWUFBQW1DLEtBQUFzQyxHQUNBekUsRUFBQSxhQUFBbUMsS0FBQXdDLElBRUF4RSxLQUFBLFdBQ0FGLEVBQUFzRSxNQUNBdEUsRUFBQTRFLFNBRUFBLE1BQUEsV0FDQTVFLEVBQUF1RSxzQkFDQXZFLEVBQUE2RSxhQUVBQSxVQUFBLFdBQ0E5RSxFQUFBLGFBQUErRSxNQUFBLFdBQ0EvRSxFQUFBZ0YsTUFBQWpCLFlBQUEsZ0JBS0EvRCxFQUFBc0MsUUFBQWhDLEdBQUEsT0FBQSxXQUNBTCxFQUFBRSxTQUdBSCxFQUFBc0MsUUFBQWhDLEdBQUEsU0FBQSxXQUNBTCxFQUFBNEUsVUFoQ0EsQ0FrQ0F2QyxPQUFBZ0MiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgkKSB7XG5cbiAgdmFyIGFwcCA9IHtcbiAgICBiYXNlVXJsOiAnaHR0cDovL2xvY2FsaG9zdDozMDA4JyxcbiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgLy8gYXBwLmhhYml0RGFzaGJvYXJkKCk7XG4gICAgICAvLyBhcHAuZ2V0VXNlclBhZ2UoKTtcbiAgICAgIC8vIGFwcC5sb2dpbkV4ZWMoKTtcbiAgICAgIC8vIGFwcC5sb2dpbk1vZGFsKCk7XG4gICAgICAvLyBhcHAubG9nb3V0SGFuZGxlcigpO1xuICAgICAgLy8gYXBwLnNpZ25VcEhhbmRsZXIoKTtcbiAgICB9LFxuICAgIGhhYml0RGFzaGJvYXJkOiBmdW5jdGlvbiBoYWJpdERhc2hib2FyZCgpIHtcbiAgICAgIC8vICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcjdC1oYWJpdC1lbnRyeScsICgpID0+IHtcbiAgICAgIC8vICAgYXBwLmxvYWRQYWdlKFwiaGFiaXQtZm9ybVwiKTtcbiAgICAgIC8vICAgJCgnI3QtYnVyZ2VyJykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcbiAgICAgIC8vIH0pO1xuICAgICAgLy8gJCh3aW5kb3cpLmxvYWQoZnVuY3Rpb24gKCkge1xuICAgICAgLy8gICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAvLyAgICAgICAkKCcubGluaycpLmZhZGVPdXQoJ3Nsb3cnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyAgICAgICB9KTtcbiAgICAgIC8vICAgfSwxMDAwMDApOyAvLyBzZXQgdGhlIHRpbWUgaGVyZVxuICAgICAgLy8gfSk7ICBcbiAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcjdC1sb2dpbicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCgnI3QtYnVyZ2VyJykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0VXNlclBhZ2U6IGZ1bmN0aW9uIGdldFVzZXJQYWdlKCkge1xuICAgICAgJChkb2N1bWVudCkub24oJ3N1Ym1pdCcsICcjZ2V0LXByb3RlY3RlZCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIF90b2tlbiA9ICdCZWFyZXIgJyArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd1Rva2VuJyk7XG4gICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlcywgcmVqKSB7XG4gICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIC8vIGJlZm9yZVNlbmQ6IChyZXEpID0+IHsgcmVxLnNldFJlcXVlc3RIZWFkZXIoXCJBdXRob3JpemF0aW9uXCIsIGFwcC50b2tlbikgfSxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgXCJhY2NlcHRcIjogXCJhcHBsaWNhdGlvbi9qc29uOyBvZGF0YT12ZXJib3NlXCIsXG4gICAgICAgICAgICAgIFwiQXV0aG9yaXphdGlvblwiOiBfdG9rZW5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICAgIHVybDogYXBwLmJhc2VVcmwgKyAnL3Byb3RlY3RlZCcsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKGl0ZW0pIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coaXRlbSk7XG4gICAgICAgICAgICAgIHJlcygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcihfZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coX2Vycm9yKTtcbiAgICAgICAgICAgICAgcmVqKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgbG9hZFBhZ2U6IGZ1bmN0aW9uIGxvYWRQYWdlKHBhZ2UpIHtcbiAgICAgIHZhciB0YXJnZXQgPSAkKCcjcm9vdCcpO1xuICAgICAgdmFyIF9wYWdlID0gJ3NyYy92aWV3cy8nICsgcGFnZSArICcuaHRtbCc7XG4gICAgICAkLmdldChfcGFnZSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgJCh0YXJnZXQpLmh0bWwoZGF0YSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGxvYWRQcm9maWxlOiBmdW5jdGlvbiBsb2FkUHJvZmlsZSh1c2VybmFtZSkge1xuICAgICAgdmFyIF90b2tlbiA9ICdCZWFyZXIgJyArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd1Rva2VuJyk7XG4gICAgICAvLyAgICAgICAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICAgICQuYWpheCh7XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcImFjY2VwdFwiOiBcImFwcGxpY2F0aW9uL2pzb247IG9kYXRhPXZlcmJvc2VcIixcbiAgICAgICAgICBcIkF1dGhvcml6YXRpb25cIjogX3Rva2VuXG4gICAgICAgIH0sXG4gICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICB1cmw6IGFwcC5iYXNlVXJsICsgJy91c2Vycy8nICsgdXNlcm5hbWUsXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoaXRlbSkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYXBwLmJhc2VVcmwgKyAnL3VzZXJzL3Byb2ZpbGUnO1xuXG4gICAgICAgICAgJCgnI3dlbGNvbWUnKS5odG1sKFwiPHNwYW4gY2xhc3M9J3JlZCc+SGVsbG8gPGI+QWdhaW48L2I+PC9zcGFuPlwiKTtcblxuICAgICAgICAgIC8vICAgICAgICAgICAgICByZXMoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKF9lcnJvcjIpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhfZXJyb3IyKTtcbiAgICAgICAgICAvLyAgICAgICAgICAgICAgcmVqKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gICAgICAgIH0pO1xuICAgICAgLy8gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH0sXG4gICAgbG9naW5FeGVjOiBmdW5jdGlvbiBsb2dpbkV4ZWMoKSB7XG4gICAgICAkKGRvY3VtZW50KS5vbignc3VibWl0JywgJyNsb2dpbi1zdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGFwcC5sb2dpbkhhbmRsZXIoKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgbG9naW5IYW5kbGVyOiBmdW5jdGlvbiBsb2dpbkhhbmRsZXIoKSB7XG4gICAgICB2YXIgX2JvZHkgPSB7XG4gICAgICAgIHVzZXJuYW1lOiAkKCcjbG9naW4tdXNlcm5hbWUnKS52YWwoKSxcbiAgICAgICAgcGFzc3dvcmQ6ICQoJyNsb2dpbi1wYXNzd29yZCcpLnZhbCgpXG4gICAgICB9O1xuICAgICAgLy8gICAgICAgIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG4gICAgICAkLmFqYXgoe1xuICAgICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIsXG4gICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KF9ib2R5KSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiYWNjZXB0XCI6IFwiYXBwbGljYXRpb24vanNvbjsgb2RhdGE9dmVyYm9zZVwiXG4gICAgICAgIH0sXG4gICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDozMDA4L2F1dGgvbG9naW4nLFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKGRhdGEpIHtcbiAgICAgICAgICBhcHAucHJvZmlsZS5uYW1lID0gZGF0YS5wcm9maWxlLmZpcnN0TmFtZSArICcgJyArIGRhdGEucHJvZmlsZS5sYXN0TmFtZTtcbiAgICAgICAgICAkKCcjbG9naW4tdXNlcm5hbWUnKS52YWwoJycpO1xuICAgICAgICAgICQoJyNsb2dpbi1wYXNzd29yZCcpLnZhbCgnJyk7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2p3VG9rZW4nLCBkYXRhLnByb2ZpbGUudG9rZW4pO1xuICAgICAgICAgIGFwcC5sb2FkUHJvZmlsZShfYm9keS51c2VybmFtZSk7XG4gICAgICAgICAgLy8gICAgICAgICAgICAgIHJlcygpO1xuICAgICAgICB9LFxuICAgICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoX2Vycm9yMykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKF9lcnJvcjMpO1xuICAgICAgICAgICQoXCIjdC1tb2RhbC1sb2dpblwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAkKFwiI3QtbW9kYWwtbWVzc2FnZVwiKS5lbXB0eSgpO1xuICAgICAgICAgICQoXCIjdC1tb2RhbC1tZXNzYWdlXCIpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICQoXCIjdC1tb2RhbC1tZXNzYWdlXCIpLmFwcGVuZCgnXFxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJ0LW1vZGFsLWxvZ2luLWZhaWxcIj5Zb3VyIGxvZ2luIGF0dGVtcHQgaGFzIGZhaWxlZCwgcGxlYXNlIHRyeSBhZ2Fpbi48L2Rpdj5cXG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJ0LW1vZGFsLWxvZ2luLWJ1dHRvblwiPkxvZ2luPC9hPlxcbiAgICAgICAgICAgICAgICAnKTtcbiAgICAgICAgICAvLyAgICAgICAgICAgICAgcmVqKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gICAgICAgIH0pO1xuICAgICAgLy8gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH0sXG4gICAgbG9naW5Nb2RhbDogZnVuY3Rpb24gbG9naW5Nb2RhbCgpIHtcbiAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcjdC1sb2dpbicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCQoJy55LW1vZGFsLnNpZ251cCcpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgICAgICQoJy55LW1vZGFsLnNpZ251cCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAkKCcueS1tb2RhbC5sb2dpbicpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkKCcueS1tb2RhbC5sb2dpbicpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgfVxuICAgICAgICAkKCcjdC1idXJnZXInKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBsb2dvdXRIYW5kbGVyOiBmdW5jdGlvbiBsb2dvdXRIYW5kbGVyKCkge1xuICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJyN0LWxvZ291dCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2p3VG9rZW4nKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1lvdSBhcmUgbm93IGxvZ2dlZCBvdXQuJyk7XG4gICAgICAgIGFwcC5wcm9maWxlLm5hbWUgPSAnJztcbiAgICAgICAgbG9jYXRpb24ucmVsb2FkKHRydWUpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBwcm9maWxlOiB7XG4gICAgICBuYW1lOiAnJ1xuICAgIH0sXG4gICAgc2lnblVwSGFuZGxlcjogZnVuY3Rpb24gc2lnblVwSGFuZGxlcigpIHtcbiAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcjdC1zaWduLXVwJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyAkKFwiI3QtbW9kYWwtbWVzc2FnZVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgaWYgKCQoJy55LW1vZGFsLmxvZ2luJykuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG4gICAgICAgICAgJCgnLnktbW9kYWwubG9naW4nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgJCgnLnktbW9kYWwuc2lnbnVwJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQoJy55LW1vZGFsLnNpZ251cCcpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgfVxuICAgICAgICAkKCcjdC1idXJnZXInKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuICAgICAgfSk7XG4gICAgICAkKGRvY3VtZW50KS5vbignc3VibWl0JywgJyNzaWduLXVwLXN1Ym1pdCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIGJvZHkgPSB7XG4gICAgICAgICAgZmlyc3ROYW1lOiAkKCcjZmlyc3ROYW1lJykudmFsKCksXG4gICAgICAgICAgbGFzdE5hbWU6ICQoJyNsYXN0TmFtZScpLnZhbCgpLFxuICAgICAgICAgIHBhc3N3b3JkOiAkKCcjcGFzc3dvcmQnKS52YWwoKSxcbiAgICAgICAgICB1c2VybmFtZTogJCgnI3VzZXJuYW1lJykudmFsKClcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzLCByZWopIHtcbiAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiLFxuICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgIFwiYWNjZXB0XCI6IFwiYXBwbGljYXRpb24vanNvbjsgb2RhdGE9dmVyYm9zZVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgdXJsOiBhcHAuYmFzZVVybCArICcvdXNlcnMvcmVnaXN0ZXInLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUaGFuayB5b3UgJyArIGJvZHkuZmlyc3ROYW1lICsgJyAnICsgYm9keS5sYXN0TmFtZSArICchIFlvdXIgYWNjb3VudCBoYXMgYmVlbiBjcmVhdGVkLicpO1xuICAgICAgICAgICAgICAkKCcjZmlyc3ROYW1lJykudmFsKCcnKTtcbiAgICAgICAgICAgICAgJCgnI2xhc3ROYW1lJykudmFsKCcnKTtcbiAgICAgICAgICAgICAgJCgnI3VzZXJuYW1lJykudmFsKCcnKTtcbiAgICAgICAgICAgICAgJCgnI3Bhc3N3b3JkJykudmFsKCcnKTtcbiAgICAgICAgICAgICAgJChcIiN0LW1vZGFsLXNpZ24tdXBcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgICQoXCIjdC1tb2RhbC1tZXNzYWdlXCIpLmVtcHR5KCk7XG4gICAgICAgICAgICAgICQoXCIjdC1tb2RhbC1tZXNzYWdlXCIpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAkKFwiI3QtbW9kYWwtbWVzc2FnZVwiKS5hcHBlbmQoJ1xcbiAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJ0LW1vZGFsLXNpZ24tdXAtc3VjY2Vzc1wiPlRoYW5rIHlvdSAnICsgYm9keS5maXJzdE5hbWUgKyAnICcgKyBib2R5Lmxhc3ROYW1lICsgJyEgWW91ciBhY2NvdW50IGhhcyBiZWVuIGNyZWF0ZWQuPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgPGEgaWQ9XCJ0LW1vZGFsLWxvZ2luLWJ1dHRvblwiPkxvZ2luPC9hPlxcbiAgICAgICAgICAgICAgICAgICcpO1xuICAgICAgICAgICAgICByZXMoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoX2Vycm9yNCkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfZXJyb3I0KTtcbiAgICAgICAgICAgICAgJChcIiN0LW1vZGFsLXNpZ24tdXBcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgICQoXCIjdC1tb2RhbC1tZXNzYWdlXCIpLmVtcHR5KCk7XG4gICAgICAgICAgICAgICQoXCIjdC1tb2RhbC1tZXNzYWdlXCIpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAkKFwiI3QtbW9kYWwtbWVzc2FnZVwiKS5hcHBlbmQoJ1xcbiAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJ0LW1vZGFsLXNpZ24tdXAtZmFpbFwiPicgKyBib2R5LmZpcnN0TmFtZSArICcgJyArIGJvZHkubGFzdE5hbWUgKyAnLCBFaXRoZXIgeW91ciBwYXNzd29yZCBuZWVkcyB0byBiZSB0ZW4gY2hhcmFjdGVycyBsb25nLCBvciB5b3VyIHVzZXJuYW1lIGhhcyBhbHJlYWR5IGJlZW4gc2VsZWN0ZWQuPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgPGEgaWQ9XCJ0LW1vZGFsLXNpZ24tdXAtYnV0dG9uXCI+U2lnbi11cDwvYT5cXG4gICAgICAgICAgICAgICAgICAnKTtcbiAgICAgICAgICAgICAgcmVqKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAkKHdpbmRvdykub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgYXBwLmluaXQoKTtcbiAgfSk7XG59KSh3aW5kb3cualF1ZXJ5KTsiLCJcInVzZSBzdHJpY3RcIjtcblxuKGZ1bmN0aW9uICgkKSB7XG5cbiAgdmFyIGFwcCA9IHtcbiAgICBib3g6IGZ1bmN0aW9uIGJveCgpIHtcbiAgICAgICQoJ2JvZHknKS5hcHBlbmQoXCJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInZpZXdwb3J0XFxcIj5cXG4gICAgICAgICAgPHNwYW4gaWQ9XFxcInQtd2lkdGhcXFwiPjwvc3Bhbj4geCA8c3BhbiBpZD1cXFwidC1oZWlnaHRcXFwiPjwvc3Bhbj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgIFwiKTtcbiAgICB9LFxuICAgIGNhbGN1bGF0ZURpbWVuc2lvbnM6IGZ1bmN0aW9uIGNhbGN1bGF0ZURpbWVuc2lvbnMoKSB7XG4gICAgICB2YXIgdyA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgdmFyIGggPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAkKFwiI3Qtd2lkdGhcIikuaHRtbCh3KTtcbiAgICAgICQoXCIjdC1oZWlnaHRcIikuaHRtbChoKTtcbiAgICB9LFxuICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICBhcHAuYm94KCk7XG4gICAgICBhcHAuc2l6ZXIoKTtcbiAgICB9LFxuICAgIHNpemVyOiBmdW5jdGlvbiBzaXplcigpIHtcbiAgICAgIGFwcC5jYWxjdWxhdGVEaW1lbnNpb25zKCk7XG4gICAgICBhcHAudG9nZ2xlQm94KCk7XG4gICAgfSxcbiAgICB0b2dnbGVCb3g6IGZ1bmN0aW9uIHRvZ2dsZUJveCgpIHtcbiAgICAgICQoJy52aWV3cG9ydCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcygnaW5hY3RpdmUnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAkKHdpbmRvdykub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgYXBwLmluaXQoKTsgLy9jMDI4XG4gIH0pO1xuXG4gICQod2luZG93KS5vbigncmVzaXplJywgZnVuY3Rpb24gKCkge1xuICAgIGFwcC5zaXplcigpOyAvL2MwMjhcbiAgfSk7XG59KSh3aW5kb3cualF1ZXJ5KTsiXX0=
