extends 1layout

block content
  div.y-template
    h2 Habit History Page
    each habit, index in habits
      div.habitTile.cf
        h2 #{habit.question}
        div #{index}
        div.habitScore #{habit.habitScore}
        div.habitDate
          div #{habit.startDate}
          p to
          div #{habit.endDate}
        canvas(id= ("myChart"+ index) width="400" height="400")
          
  script(src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.js")
  script.
    window.onload = function() {
      for (let i = 0; i < 5; i++) {
        var ctx = document.getElementById("myChart"+i).getContext('2d');
        var chart = new Chart(ctx, {
        type: 'pie',
        data: {
          labels: ["red", "green", "blue"],
          datasets: [{
            label: 'Number of votes',
            data: [1, 1, 1],
            backgroundColor: ["#000011", "#000311", "#000021"],
            borderColor: ["#000011", "#000411", "#000191"],
            borderWidth: 1
          }],
        },
        options: {
          title: { 
            display: true,
            text: "chart",
          },
          legend: {
            position: 'bottom'
          },
        }
      });
      }
    };